# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ WinAnsi –¥–ª—è —É–∫—Ä–∞–∏–Ω—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF —Å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:

```
‚ùå PDF generation error: Error: WinAnsi cannot encode "–ó" (0x0417)
    at yn.encodeUnicodeCodePoint (Encoding.js:18:23)
    at t.encodeTextAsGlyphs (StandardFontEmbedder.js:85:41)
```

## –ü—Ä–∏—á–∏–Ω–∞

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã Helvetica –∏ HelveticaBold –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–¥–∏—Ä–æ–≤–∫—É WinAnsi**, –∫–æ—Ç–æ—Ä–∞—è **–ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É**.

WinAnsi (Windows-1252) - —ç—Ç–æ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∑–∞–ø–∞–¥–Ω–æ–µ–≤—Ä–æ–ø–µ–π—Å–∫–∏—Ö —è–∑—ã–∫–æ–≤:
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç: –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π, –Ω–µ–º–µ—Ü–∫–∏–π, –∏—Å–ø–∞–Ω—Å–∫–∏–π
- ‚ùå –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç: —Ä—É—Å—Å–∫–∏–π, —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π, –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–π (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)

–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã (–ó, —ñ, —î, —ó –∏ —Ç.–¥.) –∏–º–µ—é—Ç Unicode –∫–æ–¥—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ WinAnsi –¥–∏–∞–ø–∞–∑–æ–Ω–∞.

## –†–µ—à–µ–Ω–∏–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à—Ä–∏—Ñ—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Unicode —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É fontkit.**

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ fontkit –∏–∑ CDN**
2. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è fontkit –≤ PDFDocument**
3. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞ NotoSans-Regular.ttf**
4. **Fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ**

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –§–∞–π–ª: `src/pdf.js`

#### 1. –î–æ–±–∞–≤–ª–µ–Ω URL fontkit CDN (—Å—Ç—Ä–æ–∫–∞ 2):

```javascript
const PDF_LIB_CDN_URL = 'https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.esm.min.js';
const FONTKIT_CDN_URL = 'https://cdn.jsdelivr.net/npm/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js';
```

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ fontkit (—Å—Ç—Ä–æ–∫–∏ 31-47):

```javascript
async function loadFontkit() {
    if (!fontkitModulePromise) {
        fontkitModulePromise = import(/* @vite-ignore */ FONTKIT_CDN_URL)
            .then((module) => {
                return module.default || module;
            })
            .catch((error) => {
                fontkitModulePromise = null;
                console.error('Failed to load fontkit from CDN.', error);
                const failure = new Error('Failed to load fontkit from CDN.');
                failure.cause = error;
                throw failure;
            });
    }

    return fontkitModulePromise;
}
```

#### 3. –ò–∑–º–µ–Ω–µ–Ω–∞ —Å–µ–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 461-473):

**–î–û (–≤—ã–∑—ã–≤–∞–ª–∞ –æ—à–∏–±–∫—É WinAnsi):**

```javascript
const pdfDoc = await PDFDocument.create();

// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã (–±–µ–∑ fontkit)
const fonts = {
    regular: await pdfDoc.embedFont(StandardFonts.Helvetica),
    bold: await pdfDoc.embedFont(StandardFonts.HelveticaBold)
};
```

**–ü–û–°–õ–ï (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å fontkit):**

```javascript
const pdfDoc = await PDFDocument.create();

// –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º fontkit –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
const fontkit = await loadFontkit();
pdfDoc.registerFontkit(fontkit);

// –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–π —à—Ä–∏—Ñ—Ç (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π)
const fontBytes = await loadFontBytes();

const fonts = {
    regular: fontBytes ? await pdfDoc.embedFont(fontBytes) : await pdfDoc.embedFont(StandardFonts.Helvetica),
    bold: fontBytes ? await pdfDoc.embedFont(fontBytes) : await pdfDoc.embedFont(StandardFonts.HelveticaBold)
};
```

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ fontkit

```javascript
const fontkit = await loadFontkit();
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É fontkit –∏–∑ CDN
// fontkit - —ç—Ç–æ –ø–∞—Ä—Å–µ—Ä —à—Ä–∏—Ñ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å TrueType/OpenType —à—Ä–∏—Ñ—Ç–∞–º–∏
```

### –®–∞–≥ 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è fontkit –≤ PDF –¥–æ–∫—É–º–µ–Ω—Ç–µ

```javascript
pdfDoc.registerFontkit(fontkit);
// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º fontkit –≤ PDFDocument
// –¢–µ–ø–µ—Ä—å pdfDoc.embedFont() –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —à—Ä–∏—Ñ—Ç–∞–º–∏
```

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞

```javascript
const fontBytes = await loadFontBytes();
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª fonts/NotoSans-Regular.ttf
// NotoSans - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç –æ—Ç Google, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —è–∑—ã–∫–∏ –º–∏—Ä–∞
```

### –®–∞–≥ 4: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ –≤ PDF

```javascript
const fonts = {
    regular: fontBytes ? await pdfDoc.embedFont(fontBytes) : await pdfDoc.embedFont(StandardFonts.Helvetica),
    bold: fontBytes ? await pdfDoc.embedFont(fontBytes) : await pdfDoc.embedFont(StandardFonts.HelveticaBold)
};
```

**–õ–æ–≥–∏–∫–∞ fallback:**
- –ï—Å–ª–∏ `fontBytes` —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º NotoSans (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É)
- –ï—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º Helvetica (—Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω–∏—Ü–∞, –Ω–æ PDF —Ö–æ—Ç—è –±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ NotoSans + fontkit

‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤** - NotoSans –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Unicode, –≤–∫–ª—é—á–∞—è –∫–∏—Ä–∏–ª–ª–∏—Ü—É
‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π —à—Ä–∏—Ñ—Ç** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –æ—Ç Google
‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ CDN** - fontkit –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚úÖ **Fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã** - –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ fontkit –∏–ª–∏ NotoSans –Ω–µ —É–¥–∞–ª–∞—Å—å, PDF –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

---

## –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ (–ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ —à—Ä–∏—Ñ—Ç–∞–º–∏)

‚ùå **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ fontkit (~200 KB)
‚ùå **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏** - –ø–µ—Ä–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ 100-200 –º—Å
‚ùå **–¢—Ä–µ–±—É–µ—Ç—Å—è —Ñ–∞–π–ª —à—Ä–∏—Ñ—Ç–∞** - fonts/NotoSans-Regular.ttf –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
node --check src/pdf.js
# ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –°–æ–∑–¥–∞–π—Ç–µ —á–µ—Ä–Ω–æ–≤–∏–∫ –æ—Ç–≥—Ä—É–∑–∫–∏ —Å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Ç–æ–≤–∞—Ä–æ–≤
3. –ù–∞–∂–º–∏—Ç–µ "–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –≤—Å—ñ"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ PDF –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
   - ‚úÖ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π —Ç–µ–∫—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ‚úÖ –ü—Ä–µ–≤—å—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - ‚úÖ PDF –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–µ—Å–ª–∏ NotoSans –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π Unicode —à—Ä–∏—Ñ—Ç

–ó–∞–º–µ–Ω–∏—Ç–µ `FONT_URL` –Ω–∞ –¥—Ä—É–≥–æ–π —à—Ä–∏—Ñ—Ç:

```javascript
const FONT_URL = 'fonts/Roboto-Regular.ttf';
// –∏–ª–∏
const FONT_URL = 'https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxK.woff';
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å fontkit –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ CDN)

–ï—Å–ª–∏ CDN –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Å–∫–∞—á–∞–π—Ç–µ fontkit –ª–æ–∫–∞–ª—å–Ω–æ:

1. –°–∫–∞—á–∞–π—Ç–µ fontkit:
   ```bash
   npm install @pdf-lib/fontkit
   ```

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `node_modules/@pdf-lib/fontkit/dist/fontkit.umd.min.js` –≤ –ø–∞–ø–∫—É `libs/`

3. –ò–∑–º–µ–Ω–∏—Ç–µ URL:
   ```javascript
   const FONTKIT_CDN_URL = 'libs/fontkit.umd.min.js';
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—é (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π —Ç–µ–∫—Å—Ç –≤ –ª–∞—Ç–∏–Ω–∏—Ü—É –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π PDF. **–ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö** - —ç—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —à—Ä–∏—Ñ—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:

```
project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ pdf.js          ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ fonts/
‚îÇ   ‚îî‚îÄ‚îÄ NotoSans-Regular.ttf  ‚Üê –î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å!
‚îú‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ ...
```

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ `fonts/NotoSans-Regular.ttf` –Ω–µ—Ç:

1. –°–∫–∞—á–∞–π—Ç–µ NotoSans:
   - https://fonts.google.com/noto/specimen/Noto+Sans
   - –í—ã–±–µ—Ä–∏—Ç–µ "Download family"

2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `NotoSans-Regular.ttf` –≤ –ø–∞–ø–∫—É `fonts/`

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: WinAnsi vs Unicode

| –ö–æ–¥–∏—Ä–æ–≤–∫–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤ | –†–∞–∑–º–µ—Ä | –°–∫–æ—Ä–æ—Å—Ç—å |
|-----------|------------------|--------|----------|
| **WinAnsi** (Helvetica) | –¢–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω–∏—Ü–∞ | –ú–∞–ª—ã–π | –ë—ã—Å—Ç—Ä–∞—è |
| **Unicode** (NotoSans + fontkit) | –í—Å–µ —è–∑—ã–∫–∏ –º–∏—Ä–∞ | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è |

**–í—ã–±–æ—Ä:** –î–ª—è —É–∫—Ä–∞–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω Unicode** (fontkit + –∫–∞—Å—Ç–æ–º–Ω—ã–π —à—Ä–∏—Ñ—Ç).

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF:

```javascript
// –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:
console.log('‚úÖ fontkit loaded');
console.log('‚úÖ Font bytes loaded:', fontBytes.byteLength, 'bytes');

// –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:
console.error('‚ùå Failed to load fontkit from CDN.');
console.warn('Unable to load custom font. Falling back to standard fonts.');
```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: fontkit –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ CDN

**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ "Failed to load fontkit from CDN"

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä–µ—à–∞—Ç—å jsdelivr.net)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é fontkit (—Å–º. "–í–∞—Ä–∏–∞–Ω—Ç 2" –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: NotoSans-Regular.ttf –Ω–µ –Ω–∞–π–¥–µ–Ω

**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ 404 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —à—Ä–∏—Ñ—Ç–∞

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `fonts/NotoSans-Regular.ttf`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ –∫–æ–¥–µ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π)
3. –°–∫–∞—á–∞–π—Ç–µ —à—Ä–∏—Ñ—Ç —Å Google Fonts (—Å–º. "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞")

### –ü—Ä–æ–±–ª–µ–º–∞: PDF –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –Ω–æ —Ç–µ–∫—Å—Ç –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º:** –í–º–µ—Å—Ç–æ —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö –±—É–∫–≤ –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∏ –∏–ª–∏ –∑–Ω–∞–∫–∏ –≤–æ–ø—Ä–æ—Å–∞

**–†–µ—à–µ–Ω–∏—è:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ fontkit –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω **–î–û** –≤—ã–∑–æ–≤–∞ `embedFont()`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `fontBytes` –Ω–µ `null`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 100 KB)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **–û—à–∏–±–∫–∞ WinAnsi –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞**
‚úÖ **–ö–∏—Ä–∏–ª–ª–∏—Ü–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ fontkit + NotoSans**
‚úÖ **Fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ**
‚úÖ **PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —É–∫—Ä–∞–∏–Ω—Å–∫–æ–≥–æ —è–∑—ã–∫–∞**

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é PDF —Å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º! üöÄ
